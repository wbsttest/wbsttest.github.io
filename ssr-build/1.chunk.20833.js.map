{"version":3,"sources":["webpack:///./assets/icons/close.svg","webpack:///./components/thank-you/index.js","webpack:///./assets/thankyou/cdthankyou.svg","webpack:///./components/thank-you/style.css?b0a2","webpack:///./components/alert/style.css?0d69","webpack:///./components/alert/errorMessage.js","webpack:///./assets/icons/cross.svg"],"names":["CDThankYou","urlParams","URLSearchParams","window","location","search","leadId","get","pathNames","pathname","_useState","useState","_useState2","_slicedToArray","message","setShowMessage","useEffect","scrollTo","top","behavior","unsubscribeLead","_ref","_asyncToGenerator","responseData","fetch","method","headers","body","JSON","stringify","then","response","json","data","_responseData","status","err","msg","_x2","apply","arguments","closeAction","h","CDLayout","class","style","thankyou","container","src","alt","ErrorMessage","errortoast","className","errortoastgrid","errortoasticon","close","errortoastcontent","errortoastclose","onClick","role","cross"],"mappings":"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","file":"1.chunk.20833.js","sourcesContent":["export default __webpack_public_path__ + \"16854d8b06e0a86608ffe8fe3651d0ec.svg\";","import { useEffect, useState } from 'preact/hooks'\r\nimport thankyou from '../../assets/thankyou/cdthankyou.svg'\r\nimport CDLayout from '../layout'\r\nimport style from './style.css'\r\nimport ErrorMessage from '../alert/errorMessage'\r\n\r\nconst CDThankYou = () => {\r\n  const urlParams = new URLSearchParams(window.location.search)\r\n  const leadId = urlParams.get('lid')\r\n  const pathNames = typeof window !== 'undefined' && window.location.pathname\r\n  const [message, setShowMessage] = useState() \r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      if (window.location.pathname !== '/result/') {\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      }\r\n    }\r\n  }, []);\r\n  const unsubscribeLead = async (leadId) => {\r\n    try {\r\n      let responseData\r\n      await fetch(`https://service.canadadistrict.com/forms/unsubscribeLead`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ leadId }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => (responseData = data))\r\n      const { status } = responseData\r\n      if (status === 200) {\r\n      }\r\n    } catch (err) {\r\n      setShowMessage(\r\n        err.response.data.msg ||\r\n          err.response.data.message ||\r\n          'Something went wrong',\r\n      )\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (leadId) {\r\n      unsubscribeLead(leadId)\r\n    }\r\n  }, [leadId])\r\n  const closeAction = () => {\r\n    setShowMessage('')\r\n  }\r\n  return (\r\n    \r\n      <CDLayout>\r\n        <div class={style.thankyou}>\r\n          <div class={style.container}>\r\n            <img src={thankyou} alt=\"thankyou\" />\r\n            <h2>Thank You!</h2>\r\n            <p>\r\n              {pathNames === '/thank-you/email_verification/' ||\r\n              pathNames === '/thank-you/email_verification'\r\n                ? `Your email is confirmed.`\r\n                : pathNames === '/thank-you/unsubscribe/' ||\r\n                  pathNames === '/thank-you/unsubscribe'\r\n                ? `You were successfully removed from our mailing list.`\r\n                : `An immigration professional will contact you shortly to complete\r\n              your profile evaluation and discuss the next steps.`}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {message !== '' && message ? (\r\n          <ErrorMessage message={message} closeAction={closeAction} />\r\n        ) : null}\r\n      </CDLayout>\r\n\r\n  )\r\n}\r\n\r\nexport default CDThankYou\r\n","export default __webpack_public_path__ + \"17b30ceb931de43f89f96367eab1912b.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"thankyou\":\"thankyou__swI9+\",\"container\":\"container__8auha\"};","// extracted by mini-css-extract-plugin\nexport default {\"errortoast\":\"errortoast__ne9ep\",\"errortoastgrid\":\"errortoastgrid__mhsRp\",\"errortoasticon\":\"errortoasticon__3Q0lk\",\"errortoastcontent\":\"errortoastcontent__4dMEL\",\"errortoastclose\":\"errortoastclose__BMc5p\"};","import cross from \"../../assets/icons/cross.svg\";\r\nimport close from \"../../assets/icons/close.svg\";\r\nimport style from \"./style.css\";\r\nconst ErrorMessage = ({ message, closeAction }) => {\r\n  return (\r\n    <div class={style.errortoast}>\r\n<div className={style.errortoastgrid}>\r\n<div className={style.errortoasticon}>\r\n<img src={close} alt=\"icon\" />\r\n</div>\r\n<div className={style.errortoastcontent}>\r\n<p>{message}</p>\r\n</div>\r\n</div>\r\n<div className={style.errortoastclose} onClick={closeAction} role='presentation'>\r\n<img src={cross} alt=\"icon\" />\r\n</div>\r\n</div>\r\n  );\r\n};\r\nexport default ErrorMessage;\r\n","export default __webpack_public_path__ + \"00850586a6b565e9aabd0c72e02ab5ea.svg\";"],"sourceRoot":""}